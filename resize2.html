<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
	<style>
		body,
		html {
		  background: black;
		}
		.resizable {
		  background: white;
		  width: 232px;
		  height: 100px;
		  position: relative;
		  float: left;
		  border: 3px solid #4286f4;
		  box-sizing: border-box;
		}
		.resizable .resizer{
		    width: 11px;
		    height: 100%;
		    position: absolute;
		    visibility: 0;
		    z-index: 999999;
		    opacity: 0;
		}
		.resizable .resizer.resizer-right {
		   	right: -8px;
	    	cursor: ew-resize;
		}
		.resize{
			overflow: hidden;
			width: 697px;
			border:1px solid #fff;
		}
	</style>
</head>
<body>
	<div style="width: 700px">
		<div style="border-right: 1px solid #d1d1d1;overflow: hidden;overflow-x: auto;">
			<div class="resize">
				<div class='resizable'>
				</div>
				<div class='resizable'>
				</div>
				<div class='resizable'>
				</div>
			</div>
		</div>
	</div>
	<script>
		/*Make resizable div by Hung Nguyen*/
		function makeResizableDiv(div) {
			$(div).each(function(indexP, elP) {
				var parentResize = $(elP);
				var left = parentResize.offset().left;
				var right = left + parentResize.width(); 
				var minimum_size_parent = parentResize.width();
				var resizeRight = '<div class="resizer resizer-right"></div>';
				parentResize.children('div.resizable').each(function(index, el) {
					var element = $(el);
					element.append(resizeRight);
				  	var currentResizer = element.children('div.resizer');
				  	var minimum_size = element.width();
				  	var original_width = 0;
				  	var rightOrigin = 0;
				  	var original_mouse_x = 0;
				  	var widthParent = 0;
				  	var plus = 0;
				  	var pageX = 0;
				  	var leftScr = 0;
				  	var i = new Interval(changeWidth);
				    currentResizer.on('mousedown', function(e) {
				      e.preventDefault()
				      original_mouse_x = e.pageX;
				      original_width = element.width();
				      widthParent = parentResize.width();
				      leftScr = parentResize.parent('div').scrollLeft();
				      window.addEventListener('mousemove', resize)
				      window.addEventListener('mouseup', stopResize)
				    })
				    
				    function resize(e) {
				    	rightOrigin =  element.offset().left + element.width();
				    	if (e.pageX >= rightOrigin) {
				    		if (i.isRunning()) {
					    		i.stop();
					    	}
					    	var plus = e.pageX - original_mouse_x;
					    	var width = original_width + plus;
					        if (width > minimum_size) {
					        	var newWidthP = widthParent + width - original_width;
					          	element.width(width);
					        }else{
					        	element.width(minimum_size);
					        	var newWidthP = widthParent + minimum_size - original_width;
					        }
					        parentResize.width(newWidthP);
					        if (e.pageX > right) {
					        	var scrl = e.pageX - right;
					    		parentResize.parent('div').scrollLeft(leftScr + scrl);
					        }
					    }else{
					    	pageX = e.pageX;
					    	i.start();
					    }
				    }
				    function changeWidth()
				    {
				    	rightOrigin = element.offset().left + element.width();
				    	plus = pageX - rightOrigin;
				    	var leftScr = parentResize.parent('div').scrollLeft();
				    	if (plus != 0) {
				    		var width = element.width() + plus;
						    var newWidthP = parentResize.width() + plus;
					    	if (width > minimum_size) {
					    		parentResize.parent('div').scrollLeft(leftScr + plus);
					          	element.width(width);
					          	var newWidthP = widthParent + width - original_width;
					        }else{
					        	element.width(minimum_size);
					        	var newWidthP = widthParent + minimum_size - original_width;
					        }
					        parentResize.width(newWidthP);
				    	}
				    }
				    function Interval(fn, time) {
					    var timer = false;
					    this.start = function () {
					        if (!this.isRunning())
					            timer = setInterval(fn, time);
					    };
					    this.stop = function () {
					        clearInterval(timer);
					        timer = false;
					    };
					    this.isRunning = function () {
					        return timer !== false;
					    };
					}
				    function stopResize() {
				    	if (i.isRunning()) {
				    		i.stop();
				    	}
				      window.removeEventListener('mousemove', resize)
				    }
				});
			});
		  }
		
		makeResizableDiv('.resize')
	</script>
</body>
</html>
